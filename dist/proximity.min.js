!function(t,e){function o(t,e,o){var n=(t-e)/((o-e)/2)||0;return n>1?2-n:n}function n(t,e){var o=t.offset().left,n=t.offset().top,i=t[0].offsetWidth,a=t[0].offsetHeight;return{left:o-e,right:i+o+e,top:n-e,bottom:n+a+e}}var i=[],a=0;t.fn.proximity=function(e,r){function f(){i.forEach(function(e,o){i[e.element.index]=t.extend(e,n(e.element))})}var c=this,l=t(window);return r=r?r:50,e.constructor==Object&&(e=function(t){console.log(t)}),t.each(c,function(){var o=t(this),f=n(o,2*r);if("off"==e){var c=o.data("proximity-index");return o.removeData("proximity-index"),void delete i[c]}f.callback=e,f.node=this,i[a]=f,o.data("proximity-index",a),a++}),l.on("mousemove",function(t){i.forEach(function(e){if(t.pageX>=e.left&&t.pageY>=e.top&&t.pageX<=e.right&&t.pageY<=e.bottom){var n=o(t.pageX,e.left,e.right),i=o(t.pageY,e.top,e.bottom);e.callback.call(e.node,{x:n,y:i,m:n*i})}else e.callback.call(e.node,{x:0,y:0,m:0})})}),l.scroll(f),l.resize(f),c}}(jQuery);